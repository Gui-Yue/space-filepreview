# 开发文档
## Q&A
- 当消息队列关闭自动提交，消费者消费后，不 ack，再获取下一条消息会怎样？
  > 如果超时没被消费，并且设置了`qos`如`prefetch_count=1`， 
  > 则有prefetch_count条消息没被 ack 之前不会收到新的消息，
  > 但有超时时间， 如果消息超过 timeout 还未被 ack，会被认为处理
  > 超时，超时后，消费者会抛出异常`pika.exceptions.ChannelClosedByBroker`，
  > 从而导致消费者程序退出。

- 获取对象文件NoSuchKey？
  1. 可能是对象 key 含有特殊字符如'_', 也有可能是文件上传后里面删除，
  2. 消息有一定延迟，可能对象已经删除了，上传文件的通知才达到图片压缩服务。
  